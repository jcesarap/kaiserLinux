{"version":"1.0","registers":[["%",[{"text":"Makefile","registerMode":0}]],[".",[{"text":{"commandList":["<Esc>"],"actionKeys":[],"waitingForAnotherActionKey":false,"actionsRun":[{"name":"","isJump":false,"createsUndoPoint":false,"preservesDesiredColumn":false,"keysPressed":["O"],"actionType":"command","isCompleteAction":true,"runsOnceForEachCountPrefix":false,"modes":[0],"keys":["O"]},{"name":"","isJump":false,"createsUndoPoint":false,"preservesDesiredColumn":false,"keysPressed":["u"],"actionType":"command","isCompleteAction":true,"runsOnceForEachCountPrefix":false,"modes":[],"keys":[],"contentChanges":[{"range":[{"line":0,"character":0},{"line":0,"character":0}],"rangeOffset":0,"rangeLength":0,"text":"u"}],"cursorStart":{"line":0,"character":0},"cursorEnd":{"line":0,"character":1}},{"name":"","isJump":false,"createsUndoPoint":false,"preservesDesiredColumn":false,"keysPressed":["<Esc>"],"actionType":"command","isCompleteAction":true,"runsOnceForEachCountPrefix":false,"modes":[1],"keys":[["<Esc>"],["<C-c>"],["<C-[>"]]}],"actionsRunPressedKeys":["O","u","<Esc>"],"bufferedKeys":[],"allowPotentialRemapOnFirstKey":true,"hasRunOperator":false,"isInsertion":true,"transformer":{"transformations":[]},"count":0,"operatorCount":0,"registerKey":"","registerName":"\""},"registerMode":0}]],["#",[{"text":"tstbibtela.c","registerMode":0}]],["\"",[{"registerMode":1,"text":""}]],["/",[{"text":"file","registerMode":0}]],["*",[{"text":"# Paths to snapshots with git\ndirs=(\n    \"~/.Snapshots/Automated/Dropbox/\"\n)\nfor dir in \"${dirs[@]}\"; do\n    cd \"$dir\" || continue  # Exit the loop if cd fails\n\n    # Configure Git user details\n    git config user.username \"kaiser\"\n    git config user.email \"jkaisermp@protonmail.com\"\n\n    # Initialize repository if not exists\n    git init\n\n    # Check if 'automatic' branch exists\n    if git rev-parse --verify automatic &>/dev/null; then\n        # Trim history older than 10 days\n        git checkout --orphan new-branch\n        git commit --allow-empty -m \"Fresh start preserving last 10 days\"\n\n        # Get recent commits and cherry-pick if any exist\n        recent_commits=$(git rev-list --reverse --after=\"10 days ago\" automatic)\n        if [ -n \"$recent_commits\" ]; then\n            git cherry-pick $recent_commits\n        fi\n\n        # Clean up old branch and optimize repo\n        git branch -D automatic\n        git branch -m automatic\n        git gc --prune=now --aggressive\n    else\n        # Create initial branch structure\n        git checkout --orphan automatic\n        git commit --allow-empty -m \"Initial snapshot commit\"\n    fi\n\n    # Add latest changes and commit\n    git checkout automatic -f\n    if [[ \"$dir\" == \"~/.Snapshots/Automated/Dropbox/\" ]]; then\n        git add .  # Add all files in current directory\n    else\n        git add --all\n    fi\n    git commit -m \"Auto commit: $(date \"+%Y-%m-%d %H:%M:%S\")\"\ndone","registerMode":0}]],["-",[{"text":"——— ","registerMode":0}]],["0",[{"text":"","registerMode":1}]]]}